(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{111:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),c=a.n(l),s=(a(80),a(58)),i=a(59),o=a(30),m=a(67),u=a(66),h=(a(81),a(82),a(152)),d=a(158),p=a(159),g=a(153),E=a(155),f=a(4),b=a(11),v=a(154),S=a(65),y=a.n(S),x=a(151),k=a(150),C=a(156),w=a(157),j=a(149),O=a(112),T=a(47),N=a.n(T),F=Object(f.a)({root:{height:10,backgroundColor:Object(b.d)("#ff6c5c",.5)},bar:{borderRadius:20,backgroundColor:"#ff6c5c"}})(j.a),A=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={pictures:[],results:[],completed:0,k:3},n.handleSearchSubmit=n.handleSearchSubmit.bind(Object(o.a)(n)),n.handleFormChange=n.handleFormChange.bind(Object(o.a)(n)),n.handleKChange=n.handleKChange.bind(Object(o.a)(n)),n}return Object(i.a)(a,[{key:"handleSearchSubmit",value:function(e){var t=this;if(console.log(this.state.searchText),void 0===this.state.searchText||""===this.state.searchText)console.log("Empty Text field"),this.setState({pictures:[],completed:0,results:[]});else{var a={query:this.state.searchText,k:this.state.k};this.setState({completed:66}),N.a.post(window.dataiku.getWebAppBackendUrl("semantic_search"),a).then((function(e){t.setState({pictures:e.data.images.map((function(e){var t={};return t.img=e,t.cols=1,t}))}),console.log(t.state.pictures)})).catch((function(e){console.log(e)})),this.setState({completed:85}),console.log(this.state.results),N.a.post(window.dataiku.getWebAppBackendUrl("es_match"),a).then((function(e){t.setState({results:e.data.map((function(e){var t={};return t.img=e.presigned_url,t.cols=1,t.description=e.description,t}))}),console.log(t.state.results),t.setState({completed:100})})).catch((function(e){console.log(e)}))}e.preventDefault()}},{key:"handleFormChange",value:function(e){this.setState({searchText:e.target.value})}},{key:"handleKChange",value:function(e){this.setState({k:e.target.value})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(k.a,{container:!0,justify:"center",alignItems:"stretch",spacing:8,xs:12},r.a.createElement(k.a,{item:!0,xs:10},r.a.createElement(O.a,{variant:"h2",style:{textAlign:"center"}},"Dataiku Natural Language Search")),r.a.createElement(k.a,{item:!0,xs:10},r.a.createElement(x.a,{className:e.paper},r.a.createElement(O.a,{variant:"h5"},"Step 1: Select the number of similar products (K neighbors):"),r.a.createElement("p",null),r.a.createElement(h.a,{className:e.formControl},r.a.createElement(d.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:this.state.k,onChange:this.handleKChange},r.a.createElement(p.a,{value:3},"Three"),r.a.createElement(p.a,{value:4},"Four"),r.a.createElement(p.a,{value:5},"Five"),r.a.createElement(p.a,{value:6},"Six"))))),r.a.createElement(k.a,{item:!0,xs:10},r.a.createElement(x.a,{className:e.paper},r.a.createElement(O.a,{variant:"h5"},'Step 2: Enter a natural language search query about dresses. Try entering "I want a summery dress that\'s flowery and yellow": '),r.a.createElement("p",null),r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:this.handleSearchSubmit},r.a.createElement(g.a,{style:{width:"80%"},placeholder:"Search",onChange:this.handleFormChange,value:this.state.searchText,id:"standard-basic",margin:"dense",width:1200,endAdornment:r.a.createElement(v.a,{position:"end"},r.a.createElement(y.a,null))}),r.a.createElement(E.a,{type:"submit",style:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)"}},"Submit")))),r.a.createElement(k.a,{item:!0,xs:10},r.a.createElement(x.a,{className:e.paper2},r.a.createElement(O.a,{variant:"h5"},"Step 3: Results!"),r.a.createElement("p",null),r.a.createElement(F,{variant:"determinate",color:"secondary",value:this.state.completed}),r.a.createElement("p",null)),r.a.createElement("p",null),r.a.createElement(x.a,{className:e.paper2},r.a.createElement(O.a,{variant:"h6"},"KNN Search"),r.a.createElement(C.a,{cellHeight:200,cols:3},this.state.pictures.map((function(e){return r.a.createElement(w.a,{key:e.img,cols:e.cols||1},r.a.createElement("img",{src:e.img,alt:"Similar products...",style:{height:"200px",width:"auto"}}))})))),r.a.createElement("p",null),r.a.createElement(x.a,{className:e.paper2},r.a.createElement(O.a,{variant:"h6"},"Elasticsearch ",r.a.createElement("span",{style:{backgroundColor:"#f18973"}},"Match")," Search"),r.a.createElement(C.a,{cellHeight:450,cols:3},this.state.results.map((function(e){return r.a.createElement(k.a,{item:!0,xs:4},r.a.createElement("img",{src:e.img,alt:"Similar products...",style:{height:"200px",width:"auto"}}),r.a.createElement(O.a,null,r.a.createElement("p",{dangerouslySetInnerHTML:(t=e.description,{__html:t})})));var t})))))))}}]),a}(r.a.Component),K=Object(f.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",height:"100%",color:e.palette.text.secondary},paper2:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},em:{backgroundColor:"#f18973"}}}),{withTheme:!0})(A);document.addEventListener("DOMContentLoaded",(function(e){c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root"))}))},75:function(e,t,a){e.exports=a(111)},80:function(e,t,a){},81:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.50f08fa8.chunk.js.map